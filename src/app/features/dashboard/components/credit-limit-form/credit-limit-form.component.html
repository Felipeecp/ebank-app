<form [formGroup]="creditLimitForm" (ngSubmit)="onSubmit()">
  <mat-form-field appearance="outline">
    <mat-label>Novo Limite de Crédito</mat-label>
    <input matInput
           type="number"
           formControlName="newCreditLimit"
           [min]="currentLimit"
           step="100">
    <mat-hint>Limite atual: R$ {{currentLimit | number:'1.2-2'}}</mat-hint>
    <mat-error *ngIf="creditLimitForm.get('newCreditLimit')?.errors?.['required']">
      Novo limite é obrigatório
    </mat-error>
    <mat-error *ngIf="creditLimitForm.get('newCreditLimit')?.errors?.['min']">
      O novo limite deve ser maior ou igual ao limite atual
    </mat-error>
  </mat-form-field>

  <button mat-raised-button
          color="primary"
          type="submit"
          [disabled]="creditLimitForm.invalid || isLoading">
    {{isLoading ? 'Processando...' : 'Atualizar Limite'}}
  </button>
</form>
